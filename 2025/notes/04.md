# Day 4 - Printing Department

> [<- Yesterday](03.md) | [Tomorrow ->](05.md)

Quick one! Why are the puzzles getting easier... Doh... I lost to [TJ O](https://github.com/TJThePiGuy) by a few seconds on Part One and Part Two. Next time I'll review my helpers ahead of time instead of in the moment! They only help if I remember how to use them...

|      | Part One | Part Two | Total |
|------|----------|----------|-------|
| Time | 3:56     | 1:08     | 5:04  |

## Part One
Simple grid loop. For each cell, check its 8 neighbors and count how many `@` cells have fewer than 4 `@` as neighbors.

[Code](../code/04a.py)

```python
from helpers.datagetter import aocd_data_in
from helpers.matrix import from_grid

din, aocd_submit = aocd_data_in(split=False, numbers=False)

ans = 0
grid = from_grid(din)

for pos, val in grid:
    if val != '@':
        continue
    papers = 0
    for npos, nval in grid.neighbors(pos, diag = True):
        if nval == '@':
            papers += 1
    if papers < 4:
        ans += 1

aocd_submit(ans)
```

## Part Two
I had this one super quick. I was surprised there almost wasn't a catch at all. Just remove the valid `@` from the grid and repeat until you can't remove any. Simple as.

[Code](../code/04b.py)

```python
from helpers.datagetter import aocd_data_in
from helpers.matrix import from_grid

din, aocd_submit = aocd_data_in(split=False, numbers=False)

ans = 0
grid = from_grid(din)

removed = True

while removed:
    removed = False
    for pos, val in grid:
        if val != '@':
            continue
        papers = 0
        for npos, nval in grid.neighbors(pos, diag = True):
            if nval == '@':
                papers += 1
        if papers < 4:
            grid.set(pos, '.')
            removed = True
            ans += 1

aocd_submit(ans)
```